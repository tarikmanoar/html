if (self.CavalryLogger) { CavalryLogger.start_js(["MKaN5"]); }

__d('ArbiterFrame',[],(function a(b,c,d,e,f,g){var h={inform:function i(j,k,l){var m=parent.frames,n=m.length,o;k.crossFrame=true;for(var p=0;p<n;p++){o=m[p];try{if(!o||o==window)continue;if(o.require){o.require('Arbiter').inform(j,k,l)}else if(o.ServerJSAsyncLoader)o.ServerJSAsyncLoader.wakeUp(j,k,l);}catch(q){}}}};f.exports=h}),null);
__d('Plugin',['Arbiter','ArbiterFrame'],(function a(b,c,d,e,f,g){var h={CONNECT:'platform/plugins/connect',DISCONNECT:'platform/plugins/disconnect',ERROR:'platform/plugins/error',RELOAD:'platform/plugins/reload',DIALOG:'platform/plugins/dialog',connect:function i(j,k){var l={identifier:j,href:j,story_fbid:k};c('Arbiter').inform(h.CONNECT,l);c('ArbiterFrame').inform(h.CONNECT,l)},disconnect:function i(j,k){var l={identifier:j,href:j,story_fbid:k};c('Arbiter').inform(h.DISCONNECT,l);c('ArbiterFrame').inform(h.DISCONNECT,l)},error:function i(j,k){c('Arbiter').inform(h.ERROR,{action:j,content:k})},reload:function i(j){c('Arbiter').inform(h.RELOAD,{reloadUrl:j||''});c('ArbiterFrame').inform(h.RELOAD,{reloadUrl:j||''})},reloadOtherPlugins:function i(j,k){c('ArbiterFrame').inform(h.RELOAD,{reloadUrl:'',reload:j||'',identifier:k||''})}};f.exports=h}),null);
__d('PluginCSSReflowHack',['Style'],(function a(b,c,d,e,f,g){var h={trigger:function i(j){setTimeout(function(){var k='border-bottom-width',l=c('Style').get(j,k);c('Style').set(j,k,parseInt(l,10)+1+'px');var m=j.offsetHeight;c('Style').set(j,k,l);return m},1000)}};f.exports=h}),null);
__d('PluginMessage',['DOMEventListener'],(function a(b,c,d,e,f,g){var h={listen:function i(){c('DOMEventListener').add(window,'message',function(event){if(/\.facebook\.com$/.test(event.origin)&&/^FB_POPUP:/.test(event.data)){var j=JSON.parse(event.data.substring(9));if('reload' in j&&/^https?:/.test(j.reload))document.location.replace(j.reload);}})}};f.exports=h}),null);
__d('PluginConfirm',['DOMEvent','DOMEventListener','PluginMessage','PopupWindow','URI','PlatformBaseVersioning'],(function a(b,c,d,e,f,g){function h(i){Object.assign(this,{plugin:i,confirm_params:{},return_params:c('URI').getRequestURI().getQueryData()});this.addReturnParams({ret:'sentry'});delete this.return_params.hash}Object.assign(h.prototype,{addConfirmParams:function i(j){Object.assign(this.confirm_params,j)},addReturnParams:function i(j){Object.assign(this.return_params,j);return this},start:function i(){var j=c('PlatformBaseVersioning').versionAwareURI(new (c('URI'))('/plugins/error/confirm/'+this.plugin)).addQueryData(this.confirm_params).addQueryData({secure:c('URI').getRequestURI().isSecure(),plugin:this.plugin,return_params:JSON.stringify(this.return_params)});this.popup=c('PopupWindow').open(j.toString(),320,486);c('PluginMessage').listen();return this}});h.starter=function(i,j,k){var l=new h(i);l.addConfirmParams(j||{});l.addReturnParams(k||{});return l.start.bind(l)};h.listen=function(i,j,k,l){c('DOMEventListener').add(i,'click',function(m){new (c('DOMEvent'))(m).kill();h.starter(j,k,l)()})};f.exports=h}),null);
__d('PluginConnection',['Arbiter','CSS','Plugin'],(function a(b,c,d,e,f,g){var h=function i(){};Object.assign(h.prototype,{init:function i(j,k,l,event){event=event||c('Plugin').CONNECT;this.identifier=j;this.element=k;this.css=l;c('Arbiter').subscribe([c('Plugin').CONNECT,c('Plugin').DISCONNECT],function(m,n){if(j===n.href)c('CSS')[m===event?'addClass':'removeClass'](k,l);return true});return this},connected:function i(){return c('CSS').hasClass(this.element,this.css)},connect:function i(){return c('Arbiter').inform(c('Plugin').CONNECT,{href:this.identifier},c('Arbiter').BEHAVIOR_STATE)},disconnect:function i(){return c('Arbiter').inform(c('Plugin').DISCONNECT,{href:this.identifier},c('Arbiter').BEHAVIOR_STATE)},toggle:function i(){return this.connected()?this.disconnect():this.connect()}});h.init=function(i){for(var j,k=0;k<i.length;k++){j=new h();j.init.apply(j,i[k])}};f.exports=h}),null);
__d("PagePluginActionTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLICK:"click"})}),null);
__d("PagePluginActions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAGE_AVATAR:"page_avatar",PAGE_CTA:"page_cta",PAGE_LIKE:"page_like",PAGE_PERMALINK:"page_permalink",PAGE_SHARE:"page_share",PAGE_UNLIKE:"page_unlike"})}),null);
__d('PluginPageActionLogger',['BanzaiLogger','BanzaiODS','DOM','Event','PagePluginActions','PagePluginActionTypes'],(function a(b,c,d,e,f,g){var h={initializeClickLoggers:function i(j,k,l,m,n,o,p,q,r,s){var t=function u(v,w){try{var x=c('DOM').find(m,'.'+v);c('Event').listen(x,'click',function(y){c('BanzaiODS').bumpEntityKey('platform_www','platform.plugin.page.action');c('BanzaiLogger').log('PagePluginActionsLoggerConfig',{page_id:k,page_plugin_action:w,page_plugin_action_type:c('PagePluginActionTypes').CLICK,referer_url:l,is_sdk:j})})}catch(y){}};t(n,c('PagePluginActions').PAGE_LIKE);t(o,c('PagePluginActions').PAGE_UNLIKE);t(p,c('PagePluginActions').PAGE_AVATAR);t(q,c('PagePluginActions').PAGE_PERMALINK);t(r,c('PagePluginActions').PAGE_SHARE);t(s,c('PagePluginActions').PAGE_CTA)}};f.exports=h}),null);
__d('PlatformWidgetEndpoint',['PlatformBaseVersioning'],(function a(b,c,d,e,f,g){function h(m,n){return c('PlatformBaseVersioning').versionAwarePath('/dialog'+'/'+m+(n?'/'+n:''))}function i(m,n){return c('PlatformBaseVersioning').versionAwarePath('/plugins'+'/'+m+(n?'/'+n:''))}function j(m){return /^\/plugins\//.test(c('PlatformBaseVersioning').getUnversionedPath(m))}function k(m){return /^\/dialog\//.test(c('PlatformBaseVersioning').getUnversionedPath(m))}var l={dialog:h,plugins:i,isPluginEndpoint:j,isDialogEndpoint:k};f.exports=l}),null);
__d('PluginReturn',['invariant','Arbiter','Log','PlatformDialog','Plugin','URI','PlatformWidgetEndpoint'],(function a(b,c,d,e,f,g,h){c('Arbiter').subscribe(c('PlatformDialog').RESPONSE,function(event,j){if(j.error_code){c('Log').debug('Plugin Return Error (%s): %s',j.error_code,j.error_message||j.error_description);return}c('Plugin').reload(j.plugin_reload)});var i={auto:function j(){c('Arbiter').subscribe(c('Plugin').RELOAD,function(event,k){var l=typeof k=='object'?k.reloadUrl:k;i.reload(l)})},syncPlugins:function j(){c('Arbiter').subscribe(c('Plugin').RELOAD,function(event,k){if(k.crossFrame)i.reload(k.reloadUrl,k.reload,k.identifier);})},reload:function j(k,l,m){var n=c('URI').getRequestURI().removeQueryData('ret').removeQueryData('act').removeQueryData('hash').addQueryData('reload',l).addQueryData('id',m);if(k){var l=new (c('URI'))(k);c('PlatformWidgetEndpoint').isPluginEndpoint(l.getPath())||h(0);n.setPath(l.getPath()).addQueryData(l.getQueryData())}window.location.replace(n.toString())}};f.exports=i}),null);