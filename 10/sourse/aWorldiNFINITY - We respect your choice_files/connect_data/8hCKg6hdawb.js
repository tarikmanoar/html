if (self.CavalryLogger) { CavalryLogger.start_js(["A3l5S"]); }

__d('BrowseClientSizeLogger',['BanzaiLogger','DataAttributeUtils','getElementPosition'],(function a(b,c,d,e,f,g){var h={log:function i(j){var k=c('DataAttributeUtils').getDataAttribute(j,'data-xt'),l=JSON.parse(k.substring(k.indexOf('{'))),m=c('getElementPosition')(j);l.client_height=m.height;l.client_width=m.width;l.raw_id=+l.raw_id;c('BanzaiLogger').log('SearchResultsClientSizeLoggerConfig',l)}};f.exports=h}),null);
__d('BrowseTopFiltersFullWidth',['cx','Arbiter','CSS','NavigationMessage','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){var i,j=/(facebook\.com\/(search|hashtag|topic)\/)/,k={init:function l(){c('CSS').addClass(document.body,"_4dik");i=new (c('SubscriptionsHandler'))();i.addSubscriptions(c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_FIRST_RESPONSE,this.cleanup));c('Arbiter').inform('browse_top_filters_full_width_displayed')},cleanup:function l(){i&&i.release();if(!window.location.href.match(j))c('CSS').removeClass(document.body,"_4dik");}};f.exports=k}),null);
__d('FacepileRounded.react',['cx','fbt','Image.react','React','Tooltip.react','HovercardLink','Link.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props,o=n.className,p=n.profiles,q=n.message,r=n.numProfilesToDisplay,s=null;if(q)s=c('React').createElement('div',{className:"_4mnt"},q);var t=r?p.slice(0,r).map(function(u,v){return this.$FacepileRounded1(u,v)}.bind(this)):p.map(function(u,v){return this.$FacepileRounded1(u,v)}.bind(this));return c('React').createElement('div',{className:c('joinClasses')("_4mnv",o)},c('React').createElement('div',{className:"_4mnw"},t,this.$FacepileRounded2()),s)};m.prototype.$FacepileRounded2=function(){var n=this.props,o=n.direction,p=n.imageSize,q=n.profiles,r=n.remainingProfilesCount,s=n.numProfilesToDisplay;if(!s)return null;var t=r?r:q.length-s,u=q.slice(s).map(function(y){return y.name}).filter(Boolean),v=u.join('\n'),w=t-u.length;if(w>0){var x=i._("and {count} others.",[i.param('count',w)]);v+='\n'+x.toString()}return t>0?c('React').createElement(c('Tooltip.react'),{className:"_4mns",key:'remainingFaceCount',tooltip:v},c('React').createElement('span',{className:"_4mnq _34n6",style:{borderRadius:p,height:p,marginLeft:-(p*.3125)+'px',minWidth:p,position:o==='descending'?'relative':null,zIndex:o==='descending'?0:null}},c('React').createElement('span',{className:"_40vg"},t))):null};m.prototype.$FacepileRounded1=function(n,o){var p=this.props,q=p.direction,r=p.imageSize,s=p.profiles,t=p.showNames,u=p.showHovercards,v=p.isClickable,w=n.glyph_size,x=n.image_src,y=n.entity_id,z={},aa=w||r;z.height=aa+'px';z.width=aa+'px';if(o>0)z.marginLeft=-(aa*.3125)+'px';if(q==='descending'){z.position='relative';z.zIndex=s.length-o}var ba="_4mnq";if(n.className)ba=c('joinClasses')(ba,n.className);var ca=c('React').createElement('div',{className:ba,key:o,style:z},c('React').createElement(c('Image.react'),{className:"_1h_6",height:aa,src:x,width:aa}));if(t&&!u&&n.name)ca=c('React').createElement(c('Tooltip.react'),{className:"_4mns",key:o+n.image_src,tooltip:n.name},ca);if(y&&(v||u)){var da={};if(u){var ea=c('HovercardLink').constructEndpoint({id:y}).toString();da['data-hovercard']=ea}if(v)da.href='/'+y;ca=c('React').createElement(c('Link.react'),babelHelpers['extends']({},da,{key:o}),ca)}return ca};function m(){j.apply(this,arguments)}m.defaultProps={direction:'ascending',imageSize:32,showNames:false,isClickable:false,showHovercards:false};m.propTypes={className:l.string,direction:l.string,imageSize:l.number,message:l.oneOfType([l.array,l.string,l.object]),numProfilesToDisplay:l.number,remainingProfilesCount:l.number,profiles:l.arrayOf(l.shape({image_src:l.any.isRequired,className:l.string,glyph_size:l.number,name:l.string,entity_id:l.string})).isRequired,showNames:l.bool,showHovercards:l.bool,isClickable:l.bool};f.exports=m}),null);
__d('TabBarItem.react',['cx','React','ReactDOM','Focus','Event','Keys','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.focus=function(){if(this.props.focused)c('Focus').set(this.refs.tab);}.bind(this),this.onKeyDown=function(event){var r=c('Event').getKeyCode(event);if(r===c('Keys').SPACE&&this.refs.tab){c('ReactDOM').findDOMNode(this.refs.tab).click();c('Event').prevent(event)}}.bind(this),n}l.prototype.render=function(){'use strict';var m=this.props,n=m.selected,o=m.focused,p=m.hideFocusRing,q=m.shouldWrapTab,r="_45hc"+(n?' '+"_1hqh":''),s="_3m1v"+(o&&p?' '+"_468f":'');if(q)return this.$TabBarItem1(r,s);return this.$TabBarItem2(c('joinClasses')(r,s))};l.prototype.$TabBarItem1=function(m,n){'use strict';var o=this.props,p=o.className,q=o.href,r=o.ajaxify,s=o.tabIndex,t=o.rel,u=o.target,v=o.selected,w=o.wrapper,x=o.mockSpacebarClick,y=babelHelpers.objectWithoutProperties(o,['className','href','ajaxify','tabIndex','rel','target','selected','wrapper','mockSpacebarClick']);q=q||'#';var z={};if(x)z.onKeyDown=this.onKeyDown;var aa=c('React').createElement('a',{ref:'tab',ajaxify:r,href:q,role:'tab',rel:t,target:u,tabIndex:s,className:n,'aria-selected':v},this.props.children);delete y.focused;delete y.hideFocusRing;delete y.shouldWrapTab;return c('React').createElement(w,babelHelpers['extends']({},y,{tabIndex:null,className:c('joinClasses')(p,m),role:'presentation'}),c('React').cloneElement(aa,z))};l.prototype.$TabBarItem2=function(m){'use strict';var n=this.props,o=n.className,p=n.href,q=n.selected,r=n.mockSpacebarClick,s=babelHelpers.objectWithoutProperties(n,['className','href','selected','mockSpacebarClick']);p=p||'#';var t={};if(r)t.onKeyDown=this.onKeyDown;delete s.menuAlignh;delete s.menuClassName;delete s.tabComponent;delete s.maxDropdownHeight;delete s.focused;delete s.hideFocusRing;delete s.wrapper;delete s.shouldWrapTab;var u=c('React').createElement('a',babelHelpers['extends']({},s,{href:p,ref:'tab',role:'tab',className:c('joinClasses')(o,m),'aria-selected':q}),this.props.children);return c('React').cloneElement(u,t)};l.prototype.componentDidMount=function(){'use strict';this.focus()};l.prototype.componentDidUpdate=function(){'use strict';this.focus()};l.propTypes={wrapper:k.func.isRequired,shouldWrapTab:k.bool,tabIndex:k.oneOf([-1,0]),selected:k.bool,focused:k.bool,hideFocusRing:k.bool,mockSpacebarClick:k.bool};l.defaultProps={wrapper:function(){var m,n;m=babelHelpers.inherits(o,c('React').Component);n=m&&m.prototype;o.prototype.render=function(){'use strict';return c('React').createElement('li',this.props,this.props.children)};function o(){'use strict';m.apply(this,arguments)}return o}(),shouldWrapTab:true,tabIndex:-1,selected:false,focused:false,hideFocusRing:false,mockSpacebarClick:true};f.exports=l}),null);
__d('TabBarItemWrapper.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getComponent=function(k){return k.component};j.prototype.render=function(){return this.props.component};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('TabBar.react',['cx','fbt','invariant','React','ReactDOM','TabBarItem.react','Event','RTLKeys','BootloadedComponent.react','JSResource','TabBarItemWrapper.react','joinClasses','setTimeout','clearTimeout','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j){var k=c('React').PropTypes,l=i._("More"),m=c('React').createClass({displayName:'TabBar',_blurTimeout:null,propTypes:{activeTabKey:k.string,alwaysShowActive:k.bool,className:k.string,defaultActiveTabKey:k.string,dropdownMenuAlignh:k.string,dropdownMenuClassName:k.string,maxTabsVisible:k.number.isRequired,moreLabel:k.node,onTabClick:k.func.isRequired,orientation:k.oneOf(['horizontal','vertical']).isRequired,dropdownTabComponent:k.func.isRequired,onWidthCalculated:k.func.isRequired,onHeightCalculated:k.func.isRequired,shouldCalculateVisibleTabs:k.bool,maxDropdownHeight:k.number},getDefaultProps:function n(){return {alwaysShowActive:true,className:'',dropdownTabComponent:c('TabBarItem.react'),maxTabsVisible:Infinity,moreLabel:l,onTabClick:c('emptyFunction').thatReturnsTrue,onHeightCalculated:c('emptyFunction'),onWidthCalculated:c('emptyFunction'),orientation:'horizontal',shouldCalculateVisibleTabs:true}},getInitialState:function n(){return {activeTabKey:this.props.activeTabKey||this.props.defaultActiveTabKey,focusedTabKey:null,previousFocusedTabKey:null,visibleTabsCount:0,shouldCalculateVisibleTabs:true,hideFocusRing:true}},setWidth:function n(o){c('ReactDOM').findDOMNode(this).style.width=o;this.setState({shouldCalculateVisibleTabs:true})},setHeight:function n(o){c('ReactDOM').findDOMNode(this).style.height=o;this.setState({shouldCalculateVisibleTabs:true})},render:function n(){var o=this.getTabs(),p=o.length,q=this.getActiveTabIndex(),r=o[q],s=this.getActiveTabIndex(true),t,u,v;if(r)t=r.key;var w=this.props.dropdownTabComponent,x=c('React').createElement(w,{key:'_dropdown',ref:'more',className:"_45hd _2pik"},c('React').createElement('span',{className:"_1b0"},this.props.moreLabel));if(this.state.shouldCalculateVisibleTabs){u=o.map(function(ha,ia){return this._wrapTab(ha,ia,t,null,s,false,false)}.bind(this));if(p>2)u.push(x);}else{var y=this._groupTabsByVisibility();u=y.visibleTabs;v=y.extraTabs;var z=this._isDropdownSelected(),aa=this.state.visibleTabsCount,ba=this.state.focusedTabKey;ba=ba&&this.getFocusedTabIndex()===-1?m.MORE_TAB_KEY:ba;u=u.map(function(ha,ia){return this._wrapTab(ha,ia,t,ba,s,true,true)}.bind(this));v=v.map(function(ha,ia){return this._wrapTab(ha,ia,t,null,s,true,false)}.bind(this));if(v.length){var ca;if(aa===0&&r)ca=r;var da=ca&&ca.props.children||this.props.moreLabel,ea='_dropdown',fa=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('TabBarDropdownItem.react').__setRef('TabBar.react'),bootloadPlaceholder:x,menuAlignh:this.props.dropdownMenuAlignh,menuClassName:this.props.dropdownMenuClassName,selected:z,focused:ba===m.MORE_TAB_KEY,hideFocusRing:this.state.hideFocusRing,onMouseDown:this.onMouseDown,onFocus:this.onFocus.bind(this,ea),onBlur:this.onBlur,key:ea,ref:'more',label:da,tabComponent:this.props.dropdownTabComponent,maxDropdownHeight:this.props.maxDropdownHeight},v);if(aa===0){u=fa}else u.push(fa);}}var ga=Object.assign({},this.props);delete ga.moreLabel;delete ga.maxTabsVisible;delete ga.onTabClick;delete ga.activeTabKey;delete ga.onHeightCalculated;delete ga.onWidthCalculated;delete ga.orientation;delete ga.alwaysShowActive;delete ga.dropdownTabComponent;delete ga.shouldCalculateVisibleTabs;return c('React').createElement('ul',babelHelpers['extends']({},ga,{className:c('joinClasses')(this.props.className,"_43o4"+(this.props.orientation==='horizontal'?' '+"_4470":'')+(this.props.orientation==='vertical'?' '+"_4471":'')),role:'tablist',onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}),u)},componentDidMount:function n(){this._calculateVisibleTabs();this._calculateDimensions()},componentWillUnmount:function n(){c('clearTimeout')(this._blurTimeout)},componentWillReceiveProps:function n(o){this.setState({shouldCalculateVisibleTabs:true,activeTabKey:o.activeTabKey||this.state.activeTabKey})},shouldComponentUpdate:function n(o,p){if(this.state.focusedTabKey&&!p.focusedTabKey)return false;if(!this.state.focusedTabKey&&!p.focusedTabKey&&this.state.previousFocusedTabKey&&!p.previousFocusedTabKey)return false;return true},componentDidUpdate:function n(){if(this.state.shouldCalculateVisibleTabs)this._calculateVisibleTabs();this._calculateDimensions()},_calculateDimensions:function n(){if(this.props.orientation==='vertical'){this._calculateWidth()}else this._calculateHeight();},_calculateWidth:function n(){this.props.onWidthCalculated(c('ReactDOM').findDOMNode(this).clientWidth)},_calculateHeight:function n(){this.props.onHeightCalculated(c('ReactDOM').findDOMNode(this).clientHeight)},_calculateVisibleTabs:function n(){var o=this.getTabs(),p=o.length,q=Object.keys(this.refs).map(function(y){return this._measure(this.refs[y])}.bind(this)),r=this._measure(this),s=this._measure(this.refs.more),t=Math.min(p,this.props.maxTabsVisible);if(!this.props.shouldCalculateVisibleTabs){this.setState({visibleTabsCount:t,shouldCalculateVisibleTabs:false});return}var u=this.getActiveTabIndex();if(this.props.alwaysShowActive&&u!==-1){o.unshift(o.splice(u,1)[0]);q.unshift(q.splice(u,1)[0])}t=0;var v=0;for(var w=0;w<p;w++){var x=q[w];if(v+x>r){if(t>0&&p>2){while(t>0&&(v+s>r||p-t<2)){t--;v-=q[t]}}else t=0;break}t++;v+=x}this.setState({visibleTabsCount:Math.min(t,this.props.maxTabsVisible),shouldCalculateVisibleTabs:false})},_measure:function n(o){var p=c('ReactDOM').findDOMNode(o);if(!p||!(p instanceof HTMLElement))return 0;return this.props.orientation==='vertical'?p.offsetHeight:p.offsetWidth},getActiveTabIndex:function n(){var o=arguments.length<=0||arguments[0]===undefined?false:arguments[0],p=this.state.activeTabKey,q=[];if(o){var r=this._groupTabsByVisibility(),s=r.visibleTabs;q=s}else q=this.getTabs();return q.findIndex(function(t){return p!=null&&t&&t.key===p})},getFocusedTabIndex:function n(){var o=this.state.focusedTabKey||this.state.previousFocusedTabKey,p=this._groupTabsByVisibility(),q=p.visibleTabs;return q.findIndex(function(r){return o!=null&&r&&r.key===o})},getFocusedTab:function n(){var o=this.state.focusedTabKey,p=this._groupTabsByVisibility(),q=p.visibleTabs,r=q.findIndex(function(s){return o!=null&&s&&s.key===o});return q[r]},onClick:function n(o,event){var p=this.props.onTabClick(o,event);if(p!==false&&this.isMounted())this.activateTab(o);},onMouseDown:function n(){this.setState({hideFocusRing:true})},onKeyDown:function n(event){var o=c('Event').getKeyCode(event);switch(o){case c('RTLKeys').UP:case c('RTLKeys').getRight():case c('RTLKeys').DOWN:case c('RTLKeys').getLeft():var p,q,r,s=this._groupTabsByVisibility(),t=s.visibleTabs,u=o===c('RTLKeys').UP||o===c('RTLKeys').getLeft(),v=u?-1:1,w=u?0:t.length-1,x=this.getFocusedTabIndex();if(x===-1&&v===-1)x=t.length;if(x===-1){r=null}else if(x===w&&v===1){r=m.MORE_TAB_KEY}else{p=u?Math.max:Math.min;q=p(x+v,w);r=t[q].key}if(r)this.setState({focusedTabKey:r,hideFocusRing:false});break;case c('RTLKeys').RETURN:var y=this.getFocusedTab();if(y){var z=y.key,aa=this.props.onTabClick(z,event);if(aa!==false&&this.isMounted())this.activateTab(z);}break;}},onKeyUp:function n(event){if(c('Event').getKeyCode(event)===c('RTLKeys').TAB&&this.state.hideFocusRing)this.setState({hideFocusRing:false});},onFocus:function n(o,event){c('clearTimeout')(this._blurTimeout);if(o!==this.state.focusedTabKey){this.setState({focusedTabKey:o,previousFocusedTabKey:null});event.preventDefault();event.stopPropagation()}},onBlur:function n(){this.setState({previousFocusedTabKey:this.state.focusedTabKey,focusedTabKey:null});this._blurTimeout=c('setTimeout')(function(){this.setState({previousFocusedTabKey:null})}.bind(this),m.BLUR_TIMEOUT)},_wrapTab:function n(o,p,q,r,s,t,u){o.key!==m.MORE_TAB_KEY||j(0);var v=q!=null&&q===o.key,w=r!=null&&r===o.key,x={selected:v,focused:w,tabIndex:v||s===-1&&p===0?0:-1,hideFocusRing:this.state.hideFocusRing};if(t){x.onClick=this.onClick.bind(this,o.key);x.onMouseDown=this.onMouseDown}else x.mockSpacebarClick=false;if(u){x.onFocus=this.onFocus.bind(this,o.key);x.onBlur=this.onBlur}o=c('React').cloneElement(o,x);return c('React').createElement(c('TabBarItemWrapper.react'),{key:o.key,component:o,ref:p})},activateTab:function n(o){if(o)this.setState({activeTabKey:o,focusedTabKey:o,shouldCalculateVisibleTabs:true});},getTabs:function n(){var o=[];c('React').Children.forEach(this.props.children,function(p){if(p)o.push(p);});return o},_groupTabsByVisibility:function n(){var o=this.state.visibleTabsCount,p=this.getTabs(),q=this.getActiveTabIndex(),r,s,t;if(!this.props.alwaysShowActive||q<o||o===0){t=p.slice(o);s=p.slice(0,o)}else{r=p.splice(q,1)[0];var u=o>0?o-1:0;t=p.slice(u);s=p.slice(0,u);s.push(r)}return {visibleTabs:s,extraTabs:t}},_isDropdownSelected:function n(){var o=this.state.visibleTabsCount,p=this.getActiveTabIndex(),q=!this.props.alwaysShowActive&&p>=o||o===0&&p>-1;return q}});m.MORE_TAB_KEY='_moreTab';m.BLUR_TIMEOUT=120;m.Tab=c('TabBarItem.react');f.exports=m}),null);
__d('XUICardHeaderTitle.react',['cx','React','TabBarItem.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props.itemComponent,n=null;if(this.props.count>0)n=c('React').createElement('span',{className:"_c1b"},this.props.count);var o=this.props.children,p=void 0;if(m===c('TabBarItem.react')&&!n){var q=typeof o==='string'?o:c('React').isValidElement(o)&&o.props.children&&o.props.children.textContent;if(q){o=c('React').createElement('div',{className:"_9hb"},o);p=c('React').createElement('div',{className:"_9hc",'aria-hidden':true},q)}}return c('React').createElement(m,babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_38my")}),o,p,n,c('React').createElement('span',{className:"_c1c"}))};function l(){'use strict';i.apply(this,arguments)}l.propTypes={count:k.number,href:k.string,itemComponent:k.any};l.defaultProps={itemComponent:c('TabBarItem.react')};f.exports=l}),null);
__d('XUIDialogHeaderTitle.react',['XUICardHeaderTitle.react'],(function a(b,c,d,e,f,g){f.exports=c('XUICardHeaderTitle.react')}),null);
__d('XUICardHeader.react',['cx','invariant','React','TabBar.react','XUICardHeaderTitle.react','XUICardSection.react','XUIDialogHeaderTitle.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.$XUICardHeader1=function(){'use strict';var n=0;c('React').Children.forEach(this.props.children,function(o){o.type===c('XUICardHeaderTitle.react')||o.type===c('XUIDialogHeaderTitle.react')||i(0);n++});return n};m.prototype.$XUICardHeader2=function(){'use strict';if(this.props.type==='primary')this.props.itemCount==null||i(0);if(this.props.itemCount!=null)return c('React').createElement('span',{className:"_5dw7"},this.props.itemCount);return null};m.prototype.$XUICardHeader3=function(){'use strict';if(this.props.link)return c('React').createElement('span',{className:"_5dw8"},this.props.link);return null};m.prototype.$XUICardHeader4=function(){'use strict';var n=this.$XUICardHeader1();if(n===1){return c('React').Children.map(this.props.children,function(o){return c('React').cloneElement(o,{itemComponent:'span'})})}else return c('React').createElement(c('TabBar.react'),{activeTabKey:this.props.activeTabKey,className:"_1ng1",defaultActiveTabKey:this.props.defaultActiveTabKey,onTabClick:this.props.onTabClick,shouldCalculateVisibleTabs:this.props.shouldCalculateVisibleTabs},this.props.children);};m.prototype.render=function(){'use strict';var n=(this.props.type==='primary'?"_5dw9":'')+(' '+"_5dwa")+(this.props.type==='secondary'?' '+"_5dwb":'')+(this.$XUICardHeader1()!==1?' '+"_3s3z":'');return c('React').createElement(c('XUICardSection.react'),{className:c('joinClasses')(this.props.className,n)},this.$XUICardHeader4(),this.$XUICardHeader2(),this.$XUICardHeader3(),c('React').createElement('div',{className:"_3s3-"}))};function m(){'use strict';j.apply(this,arguments)}m.propTypes={activeTabKey:l.string,defaultActiveTabKey:l.string,onTabClick:l.func,type:l.oneOf(['primary','secondary'])};m.defaultProps={onTabClick:function n(){return true},type:'secondary'};f.exports=m}),null);
__d('XUIPageNavigationItem.react',['cx','AsyncRequest','React','TabBarItem.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onClick=function(r,event){if(this.props.ajaxify&&this.props.rel==='async')new (c('AsyncRequest'))(this.props.ajaxify).send();if(this.props.onClick)return this.props.onClick(r,event);return true}.bind(this),n}l.prototype.render=function(){'use strict';var m="_5vwz"+(this.props.selected?' '+"_5vwy":''),n=this.props;if(n.ajaxify&&n.rel==='async'){var o=n,p=o.ajaxify,q=o.rel,r=babelHelpers.objectWithoutProperties(o,['ajaxify','rel']);n=r;n.onClick=this.onClick}var s=this.props.children,t=void 0,u=typeof s==='string'?s:c('React').isValidElement(s)&&s.props.children&&s.props.children.textContent;if(u){s=c('React').createElement('div',{className:"_4xjz"},s);t=c('React').createElement('div',{className:"_4xj-",'aria-hidden':true},u)}return c('React').createElement(c('TabBarItem.react'),babelHelpers['extends']({},n,{className:c('joinClasses')(this.props.className,m)}),c('React').createElement('div',{className:"_4jq5"},s,t),c('React').createElement('span',{className:"_13xf"}))};l.propTypes={selected:k.bool};l.defaultProps={selected:false};f.exports=l}),null);
__d('XUIPageNavigationGroup.react',['React','TabBar.react','XUIPageNavigationItem.react'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.componentDidUpdate=function(){'use strict';this.refs.bar.setWidth(this.props.width)};k.prototype.componentDidMount=function(){'use strict';this.refs.bar.setWidth(this.props.width)};k.prototype.render=function(){'use strict';return c('React').createElement(c('TabBar.react'),babelHelpers['extends']({},this.props,{ref:'bar'}),this.props.children)};function k(){'use strict';h.apply(this,arguments)}k.propTypes={moreLabel:j.string,maxTabsVisible:function l(m,n,o){var p=m[n];if(p!=null&&!(typeof p==='number'&&p>=0))throw new Error('Invalid `'+n+'` supplied to `'+o+'`, '+'expected positive integer.');},width:j.string};k.defaultProps={maxTabsVisible:Infinity};k.Item=c('XUIPageNavigationItem.react');f.exports=k}),null);
__d('XUIPageNavigation.react',['csx','cx','invariant','Arbiter','CSS','DOMQuery','Event','LeftRight.react','React','ReactDOM','SubscriptionsHandler','UITinyViewportAction','Vector','ViewportBounds','XUIPageNavigationGroup.react','joinClasses','throttle'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes,n=15;k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={activeTabKey:undefined,leftWidth:null},this.onTabClick=function(u,event){if(this.props.onTabClick){var v=this.props.onTabClick(u,event);if(!v)return v;}c('Arbiter').inform('pageNavigation/tabChanged');if(event.button===0)this.setState({activeTabKey:u});return true}.bind(this),this.resizeNavbarGroups=function(){if(!this.refs.left)return;var u=c('ReactDOM').findDOMNode(this).clientWidth;if(isNaN(u)||u===0)return;if(!isNaN(this.$XUIPageNavigation7)&&this.refs.right){var v;v=u-this.$XUIPageNavigation7-n;if(this.$XUIPageNavigation7<v)v=this.$XUIPageNavigation7-n;this.setState({rightWidth:v+'px'})}if(!isNaN(this.$XUIPageNavigation6)){var w;w=u-this.$XUIPageNavigation6-n;if(w<this.$XUIPageNavigation6)w=this.$XUIPageNavigation6+n;this.setState({leftWidth:w+'px'})}else if(!this.refs.right)this.setState({leftWidth:u+'px'});}.bind(this),q}o.prototype.componentDidMount=function(){'use strict';this.$XUIPageNavigation1=new (c('SubscriptionsHandler'))();this.resizeNavbarGroups();this.$XUIPageNavigation2();var p="^.fixed_elem._5vx1";this.wrapper=c('DOMQuery').scry(c('ReactDOM').findDOMNode(this),p)[0];if(this.wrapper){this.$XUIPageNavigation3();this.$XUIPageNavigation1.addSubscriptions(c('UITinyViewportAction').subscribe('change',function(){if(c('UITinyViewportAction').isTiny()){this.$XUIPageNavigation4.remove()}else this.$XUIPageNavigation3();}.bind(this)))}if(this.props.showDropShadowOnScroll&&(this.wrapper||c('DOMQuery').scry(c('ReactDOM').findDOMNode(this),"^._k").length)&&this.props.scrollThreshold!==null)this.$XUIPageNavigation5();};o.prototype.componentWillUnmount=function(){'use strict';this.$XUIPageNavigation1.release()};o.prototype.onWidthCalculated=function(p,q){'use strict';if(p){this.$XUIPageNavigation6=q}else this.$XUIPageNavigation7=q;};o.prototype.render=function(){'use strict';var p="_5vx2 _5vx4",q=c('joinClasses')(p,this.props.className),r=[],s=this.props.activeTabKey||this.state.activeTabKey||this.props.defaultActiveTabKey;c('React').Children.forEach(this.props.children,function(t,u){if(t===null)return;var v={onTabClick:this.onTabClick,activeTabKey:s,onWidthCalculated:this.onWidthCalculated.bind(this,u),ref:u?'right':'left',key:u};if(u===0)v.width=this.state.leftWidth;r.push(c('React').cloneElement(t,v))}.bind(this));r.length===1||r.length===2||j(0);return c('React').createElement('div',{className:q},c('React').createElement(c('LeftRight.react'),{className:"_5vx7",direction:this.props.floatDirection},r))};o.prototype.$XUIPageNavigation3=function(){'use strict';var p=this.wrapper.offsetHeight,q=c('ViewportBounds').getTop();this.$XUIPageNavigation4=c('ViewportBounds').addTop(q+p);c('Arbiter').subscribe('page_transition',function(){this.$XUIPageNavigation4.remove()})};o.prototype.$XUIPageNavigation2=function(){'use strict';this.$XUIPageNavigation1.addSubscriptions(c('Event').listen(window,'resize',c('throttle')(this.resizeNavbarGroups,30)))};o.prototype.$XUIPageNavigation5=function(){'use strict';this.$XUIPageNavigation1.addSubscriptions(c('Event').listen(window,'scroll',function(){var p=c('Vector').getScrollPosition().y>this.props.scrollThreshold;if(this.$XUIPageNavigation8===p)return;this.$XUIPageNavigation8=p;c('CSS').conditionClass(c('ReactDOM').findDOMNode(this),"_51j8",p)}.bind(this)))};o.propTypes={onTabClick:m.func,showDropShadowOnScroll:m.bool,scrollThreshold:m.number,floatDirection:m.oneOf(['left','right','both'])};o.defaultProps={showDropShadowOnScroll:true,scrollThreshold:0,floatDirection:'both'};o.Group=c('XUIPageNavigationGroup.react');o.Item=c('XUIPageNavigationGroup.react').Item;f.exports=o}),null);
__d('BrowseSnippetFacepile.react',['React','FacepileRounded.react','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=16;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){return c('React').createElement(c('FacepileRounded.react'),{imageSize:j,profiles:this.$BrowseSnippetFacepile1(),showHovercards:true,isClickable:true})};k.prototype.$BrowseSnippetFacepile1=function(){var l=this.props.users_data;return l.map(function(m){var n=new (c('URI'))('https://graph.facebook.com');n.setPath('/'+m.id+'/picture');n.addQueryData({height:j,width:j});return {image_src:n.toString(),name:m.name,entity_id:m.id.toString()}})};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d('RoundedFacepiles',['BrowseSnippetFacepile.react','ReactRenderer','ge'],(function a(b,c,d,e,f,g){'use strict';var h={init:function i(j,k){var l=c('ge')(j);if(l!=null)c('ReactRenderer').constructAndRenderComponent(c('BrowseSnippetFacepile.react'),{users_data:k},l);}};f.exports=h}),null);
__d('PopoverMenuContextMinWidth',['cx','CSS','Style','shield'],(function a(b,c,d,e,f,g,h){function i(j){'use strict';this._popoverMenu=j;this._popover=j.getPopover()}i.prototype.enable=function(){'use strict';this._setMenuSubscription=this._popoverMenu.subscribe('setMenu',c('shield')(this._onSetMenu,this))};i.prototype.disable=function(){'use strict';this._setMenuSubscription.unsubscribe();this._setMenuSubscription=null;if(this._showSubscription){this._showSubscription.unsubscribe();this._showSubscription=null}if(this._menuSubscription){this._menuSubscription.unsubscribe();this._menuSubscription=null}};i.prototype._onSetMenu=function(){'use strict';this._menu=this._popoverMenu.getMenu();this._showSubscription=this._popover.subscribe('show',c('shield')(this._updateWidth,this));var j=this._updateWidth.bind(this);this._menuSubscription=this._menu.subscribe(['change','resize'],function(){setTimeout(j,0)});this._updateWidth()};i.prototype._updateWidth=function(){'use strict';var j=this._menu.getRoot(),k=this._popoverMenu.getTriggerElem(),l=k.offsetWidth;c('Style').set(j,'min-width',l+'px');c('CSS').conditionClass(j,"_575s",l>=j.offsetWidth)};Object.assign(i.prototype,{_setMenuSubscription:null,_showSubscription:null,_menuSubscription:null});f.exports=i}),null);
__d("BrowseWebSLRPELoggerClickType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ITEM_IN_MODULE_TAPPED:"graph_search_results_item_in_module_tapped",ITEM_TAPPED:"graph_search_results_item_tapped",SEE_MORE_TAPPED:"graph_search_results_see_more_on_module_tapped",INLINE_FRIEND_REQUEST:"inline_friend_request",INLINE_PAGE_LIKE_REQUEST:"inline_page_like_request",MODULE_TAPPED:"graph_search_results_module_tapped",TAP_MODULE:"graph_search_results_module_tapped",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results"})}),null);
__d("SearchEntityModuleStyle",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"})}),null);
__d("XSearchBootstrapEntityModuleLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/search\/async\/bootstrap_entity_module_logging\/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},query:{type:"String",required:true},query_function:{type:"String",required:true},results_module_role:{type:"String",required:true},tapped_results_entity_id:{type:"String"},log_module_impression:{type:"Bool",defaultValue:false}})}),null);
__d("XSearchBrowseActionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/search\/async\/browse_actions\/",{id:{type:"String",required:true},result_type:{type:"String",required:true}})}),null);
__d('SearchEntityModuleResult.react',['cx','fbt','AsyncRequest','Badge.react','BrowseClientEventLogger','BrowseWebSLRPELoggerClickType','CurrentUser','DOM','DOMContainer.react','HovercardLink','Image.react','Link.react','React','SearchEntityModuleServerConstants','SearchEntityModuleStyle','URI','WebPixelRatio','XSearchBootstrapEntityModuleLoggingController','XSearchBrowseActionsController','XUIButton.react','XUISpinner.react','memoize'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m=(l={},l[c('SearchEntityModuleStyle').SMALL]=48,l[c('SearchEntityModuleStyle').MEDIUM]=64,l[c('SearchEntityModuleStyle').LARGE]=72,l[c('SearchEntityModuleStyle').XLARGE]=100,l);j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.state={actionsLoaded:false,showCrActions:false};this.getLoggingData=c('memoize')(function(){var p=c('SearchEntityModuleServerConstants').TYPE_TO_DISPLAY_STYLE[this.props.result.type],q=c('SearchEntityModuleServerConstants').TYPE_TO_BROWSE_TYPE[this.props.result.type],r=c('SearchEntityModuleServerConstants').WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,s=r+JSON.stringify({display_style:p,id:this.props.result.tuid,item_type:'result',module_result_type:q,module_type:this.props.module_role,position_in_module:this.props.position_in_module,query:this.props.browse_query,raw_id:parseInt(this.props.result.tuid,10),session_id:this.props.browse_session_id,vertical:'content',is_bootstrap:this.props.result.is_bootstrap,unit_id:this.props.result.logging_unit_id,unit_id_click_type:c('BrowseWebSLRPELoggerClickType').ITEM_IN_MODULE_TAPPED,unit_id_result_id:this.props.result.tuid});return {'data-xt':s,'data-gt':JSON.stringify({type:'xtracking',xt:s}),'data-bt':JSON.stringify({id:parseInt(this.props.result.tuid,10)}),'data-xt-vimp':JSON.stringify(this.props.client_view_config),'data-vistracking':'1','data-insertion-position':this.props.position_in_module}}.bind(this));this.actionsWrapper=c('DOM').create('div');this.crActionsWrapper=c('DOM').create('div')}n.prototype.componentDidMount=function(){this.renderActions();this.logImpression();if(this.props.result.logging_unit_id!=null&&this.props.result.is_bootstrap)this.logUnitData();};n.prototype.render=function(){var o,p=this.props.result.uri,q=c('HovercardLink').constructEndpoint({id:this.props.result.tuid}),r=void 0;if(this.props.result.badge_type){r=c('React').createElement(c('Badge.react'),{type:this.props.result.badge_type,size:'small'})}else if(this.props.result.is_verified===true)r=c('React').createElement(c('Badge.react'),{type:'verified',size:'small'});var s=this.props.result.snippets.map(function(ca,da){return c('React').createElement(c('DOMContainer.react'),{key:'snippet_'+da,className:(da===0?"_2yep":'')+(da!==0?' '+"_2yeq":'')},ca)}),t=this.props.result.photos,u=void 0,v=m[this.props.module_style],w=void 0;if(!c('CurrentUser').isWorkUser()&&this.props.result.type==='user'){w=new (c('URI'))('https://graph.facebook.com/'+this.props.result.tuid+'/picture').setQueryData({width:v*c('WebPixelRatio').getOriginalValue(),height:v*c('WebPixelRatio').getOriginalValue()}).toString()}else w=this.props.result.photo;if(t!=null&&!this.props.has_module_guidelines){(function(){var ca=t.length,da=t.map(function(ea,fa){var ga=v/2-fa%2,ha=v/2-Math.round(fa/ca);return c('React').createElement(c('Image.react'),{key:fa,className:"_4wq6",src:ea,style:{width:ga+'px',height:ha+'px'}})});u=c('React').createElement('div',{className:"_4wq7",style:{width:v+'px',height:v+'px'}},da)})()}else{var x=false;if(this.props.result.type==='group')x=this.props.has_module_guidelines;u=c('React').createElement(c('Image.react'),{className:"_2yeu"+(x?' '+"_4lxz":''),src:w,width:v,height:v})}var y=c('React').createElement('div',{className:"_2ye_"},c('React').createElement(c('DOMContainer.react'),null,this.actionsWrapper),c('React').createElement(c('XUIButton.react'),{className:"_4cei"+(this.state.actionsLoaded?' '+"hidden_elem":''),image:c('React').createElement(c('XUISpinner.react'),{size:'small',background:'dark'}),label:i._("Loading...")})),z=null;if(this.state.showCrActions&&this.crActionsWrapper)z=c('React').createElement('div',{className:"_5-zc"},c('React').createElement(c('DOMContainer.react'),null,this.crActionsWrapper),c('React').createElement(c('XUIButton.react'),{className:"_4cei"+(this.state.actionsLoaded?' '+"hidden_elem":''),image:c('React').createElement(c('XUISpinner.react'),{size:'small',background:'dark'}),label:i._("Loading...")}));var aa=this.props.module_style===c('SearchEntityModuleStyle').XLARGE||this.props.module_style===c('SearchEntityModuleStyle').LARGE,ba=null;if(this.props.has_module_guidelines){ba=c('React').createElement('div',{style:{WebkitLineClamp:2},className:"_52eh _5bcu"},this.props.result.text,r)}else ba=c('React').createElement('div',null,this.props.result.text,r);return c('React').createElement('div',babelHelpers['extends']({className:"_2yer"+(' '+"_401d")+(aa?' '+"_2xje":'')+(' '+"_2nuh")},this.getLoggingData()),c('React').createElement(c('Link.react'),{className:"_2yet",href:p,'data-hovercard':q},u),c('React').createElement('div',{className:"_2yev"},c('React').createElement('div',{className:"_2xjf"},c('React').createElement(c('Link.react'),{href:p,className:(this.props.has_module_guidelines?"_1ii5":'')+(' '+"_2yez"),'data-hovercard':q},ba),aa?y:null),c('React').createElement('div',{className:"_2ye-"},s.shift(),c('React').createElement('div',{className:"_2xjg"},s)),z),aa?null:y)};n.prototype.renderActions=function(){var o=c('SearchEntityModuleServerConstants').TYPE_TO_BROWSE_TYPE[this.props.result.type],p=c('XSearchBrowseActionsController').getURIBuilder().setString('id',this.props.result.tuid).setString('result_type',o);new (c('AsyncRequest'))(p.getURI()).setMethod('POST').setHandler(function(q){var r=q.getPayload();c('DOM').setContent(this.actionsWrapper,r.actions);var s=false;if(r.cr_actions){c('DOM').setContent(this.crActionsWrapper,r.cr_actions);s=true}this.setState({actionsLoaded:true,showCrActions:s})}.bind(this)).send()};n.prototype.logImpression=function(){var o=this.getLoggingData();c('BrowseClientEventLogger').logImpression({xt:o['data-xt']})};n.prototype.logUnitData=function(){var o=this.props.result,p=c('XSearchBootstrapEntityModuleLoggingController').getURIBuilder().setString('logging_unit_id',o.logging_unit_id).setString('session_id',this.props.browse_session_id).setString('query',this.props.plain_text_query).setString('query_function',this.props.browse_query).setString('tapped_results_entity_id',o.tuid).setString('results_module_role',o.module_role).setBool('log_module_impression',false);new (c('AsyncRequest'))(p.getURI()).send()};f.exports=n}),null);
__d('SearchEntityModule.react',['cx','fbt','AsyncRequest','BrowseWebSLRPELoggerClickType','Link.react','React','SearchEntityModuleResult.react','SearchEntityModuleServerConstants','ViewableImpressionTracking','XSearchBootstrapEntityModuleLoggingController','XUICard.react','XUICardHeader.react','XUICardHeaderTitle.react','XUICardSection.react','memoize','memoizeWithArgs'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={isExpanded:this.props.num_results_to_show==null},this.onSeeMoreLinkClick=function(event){event.preventDefault();this.setState({isExpanded:true})}.bind(this),this.getModuleLoggingData=c('memoize')(function(){var r=c('SearchEntityModuleServerConstants').WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,s=r+JSON.stringify({query:this.props.browse_query,session_id:this.props.browse_session_id,module_type:this.props.module_role,unit_id:this.props.logging_unit_id,unit_id_click_type:c('BrowseWebSLRPELoggerClickType').VIEW_PORT_VIEWS_ON_SEARCH_RESULTS});return {'data-xt':s,'data-xt-vimp':JSON.stringify(this.props.client_view_config)}}.bind(this)),this.getSeeMoreLoggingData=c('memoizeWithArgs')(function(r){var s=c('SearchEntityModuleServerConstants').WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE,t=c('SearchEntityModuleServerConstants').SEE_MORE_LOGGING.MODULE_HEADER_ITEM_TYPE,u=c('SearchEntityModuleServerConstants').SEE_MORE_LOGGING.MODULE_FOOTER_ITEM_TYPE,v=s+JSON.stringify({item_type:r==='header'?t:u,module_type:this.props.module_role,query:this.props.browse_query,session_id:this.props.browse_session_id,source_module_role:this.props.module_role,vertical:'content',unit_id:this.props.logging_unit_id,unit_id_click_type:c('BrowseWebSLRPELoggerClickType').SEE_MORE_TAPPED});return {'data-xt':v,'data-gt':JSON.stringify({type:'xtracking',xt:v}),'data-xt-vimp':JSON.stringify(this.props.client_view_config),'data-vistracking':'1','data-bt':JSON.stringify({ct:'see_more',source_module_role:this.props.module_role})}}.bind(this),function(r){return r}),n}l.prototype.componentDidMount=function(){if(this.props.logging_unit_id!=null&&this.props.is_bootstrap_entity_module){this.logUnitData();c('ViewableImpressionTracking').init()}};l.prototype.render=function(){var m=this.props.num_results_to_show,n=!this.state.isExpanded&&m!=null?this.props.results.slice(0,m):this.props.results;if(n.count()===0)return c('React').createElement('div',null);n=n.map(function(s,t){return c('React').createElement(c('SearchEntityModuleResult.react'),{key:s.tuid,result:s,position_in_module:t,browse_query:this.props.browse_query,client_view_config:this.props.client_view_config,browse_session_id:this.props.browse_session_id,module_style:this.props.module_style,module_role:this.props.module_role,plain_text_query:this.props.plain_text_query,has_module_guidelines:this.props.has_module_guidelines,viewer_id:this.props.viewer_id})}.bind(this));var o=c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.getSeeMoreLoggingData('footer'),{href:'',onClick:this.onSeeMoreLinkClick,className:"_5w9f"+(this.state.isExpanded||m==null||this.props.results.size<=m?' '+"hidden_elem":'')}),i._("See All")),p=void 0,q=void 0;if(this.props.see_more_uri!=null){p=c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.getSeeMoreLoggingData('header'),{href:this.props.see_more_uri}),i._("See All"));q=c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.getSeeMoreLoggingData('footer'),{href:this.props.see_more_uri,className:"_5w9f"+(!this.state.isExpanded&&m!=null&&this.props.results.size>m?' '+"hidden_elem":'')}),i._("See All"))}var r=this.props.title instanceof Object&&this.props.title.__html!=null?c('React').createElement('span',{dangerouslySetInnerHTML:this.props.title}):this.props.title;return c('React').createElement('div',babelHelpers['extends']({},this.getModuleLoggingData(),{className:"_5w7z"+(this.props.result_type==='user'&&this.props.module_role==='SHORTCUT_PEOPLE'?' '+"_d7o":'')+(this.props.result_type==='user'?' '+"_5w81":'')+(this.props.result_type==='page'?' '+"_5w82":'')+(this.props.result_type==='group'?' '+"_5w84":'')+(this.props.result_type==='application'?' '+"_3h4u":'')+(this.props.result_type==='place'?' '+"_5w9b":'')+(this.props.result_type==='event'?' '+"_5w9c":'')}),c('React').createElement(c('XUICard.react'),{className:"_5w9d"},c('React').createElement(c('XUICardHeader.react'),{link:p,type:'primary'},c('React').createElement(c('XUICardHeaderTitle.react'),null,c('React').createElement('div',{className:"_5w9e"}),r)),c('React').createElement(c('XUICardSection.react'),null,n,o,q)))};l.prototype.logUnitData=function(){var m=c('XSearchBootstrapEntityModuleLoggingController').getURIBuilder().setString('logging_unit_id',this.props.logging_unit_id).setString('session_id',this.props.browse_session_id).setString('query',this.props.plain_text_query).setString('query_function',this.props.browse_query).setString('results_module_role',this.props.module_role).setBool('log_module_impression',true);new (c('AsyncRequest'))(m.getURI()).send()};f.exports=l}),null);
__d('SearchEntityModuleDispatcher',['ExplicitRegistrationReactDispatcher'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationReactDispatcher'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d('SearchEntityModuleUIConstants',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={Actions:{ADD_MODULE:'ADD_MODULE',ADD_RESULTS:'ADD_RESULTS',REMOVE_ALL_RESULTS_AND_MODULES:'REMOVE_ALL_RESULTS_AND_MODULES'},MODULE_ROLE_TO_TITLE:{user:h._("People"),page:h._("Pages"),group:h._("Groups"),application:h._("Apps"),place:h._("Places"),event:h._("Events")}};f.exports=i}),null);
__d('SearchEntityModuleActions',['SearchEntityModuleDispatcher','SearchEntityModuleUIConstants'],(function a(b,c,d,e,f,g){'use strict';var h=c('SearchEntityModuleUIConstants').Actions,i={addModule:function j(k,l){var m={type:h.ADD_MODULE,value:{sessionID:k,module:l}};c('SearchEntityModuleDispatcher').dispatch(m)},addResultsToModule:function j(k,l,m){var n={type:h.ADD_RESULTS,value:{sessionID:k,module:l,results:m}};c('SearchEntityModuleDispatcher').dispatch(n)},clearAllResultsAndModules:function j(k){var l={type:h.REMOVE_ALL_RESULTS_AND_MODULES,value:{sessionID:k}};c('SearchEntityModuleDispatcher').dispatch(l)}};f.exports=i}),null);
__d('SearchEntityModuleContainerStore',['FluxReduceStore','immutable','SearchEntityModuleDispatcher','SearchEntityModuleUIConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('SearchEntityModuleUIConstants').Actions;h=babelHelpers.inherits(k,c('FluxReduceStore'));i=h&&h.prototype;k.prototype.getInitialState=function(){return c('immutable').Map()};k.prototype.reduce=function(l,m){var n=void 0,o=m.value.sessionID;switch(m.type){case j.ADD_MODULE:n=l.get(o);if(n==null)n=c('immutable').List([]);n=n.push(babelHelpers['extends']({},m.value.module,{results:c('immutable').List([])}));l=l.set(o,n);break;case j.ADD_RESULTS:n=l.get(o);if(n==null)n=c('immutable').List([]);n=this.addResultsWithoutDupes(o,n,m.value.module,m.value.results);l=l.set(o,n);break;case j.REMOVE_ALL_RESULTS_AND_MODULES:n=l.get(o);if(n!=null){n=n.clear();l=l.set(o,n)}break;default:break;}return l};k.prototype.addResultsWithoutDupes=function(l,m,n,o){f=m.find(function(y){return y.role===n.role&&y.is_bootstrap_entity_module===n.is_bootstrap_entity_module&&y.id===n.id});if(f==null)return m;var p=f.results,q=m.first();if(q!=null&&q.is_bootstrap_entity_module)p=q.results.concat(p);var r=p.map(function(y){return y.tuid}),s=[];for(var t=o,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;if(r.indexOf(x.tuid)===-1){r.push(x.tuid);s.push(x)}}f.results=f.results.concat(s);return m};k.prototype.getResults=function(l,m){var n=this.getState().get(l),o=null;for(var p=n,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s;if(t.role===m.role&&t.is_bootstrap_entity_module===m.is_bootstrap_entity_module&&t.id===m.id)o=t;}var u=n.get(0),v=n.get(1);if(o!=null&&u!=null&&u.is_bootstrap_entity_module&&u.results.size>0&&v!=null&&v.results.size>0){var w=u.results.first().type,x=v.results.first().type,y=w===x;if(y)if(o===u){return u.results.concat(v.results)}else if(o===v)return c('immutable').List([]);}if(o!=null)return o.results;return c('immutable').List([])};k.prototype.getModules=function(l){var m=this.getState(),n=this.getState().get(l);if(n==null){n=c('immutable').List([]);m.set(l,n)}return n};function k(){h.apply(this,arguments)}f.exports=new k(c('SearchEntityModuleDispatcher'))}),null);
__d('SearchEntityModuleContainer.react',['FluxContainer','immutable','React','SearchEntityModule.react','SearchEntityModuleActions','SearchEntityModuleContainerStore','SearchEntityModuleDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('SearchEntityModuleContainerStore')]};j.calculateState=function(k,l){return {modules:c('SearchEntityModuleContainerStore').getModules(l.browse_session_id)}};j.prototype.componentWillMount=function(){c('SearchEntityModuleDispatcher').explicitlyRegisterStores([c('SearchEntityModuleContainerStore')])};j.prototype.componentWillUnmount=function(){c('SearchEntityModuleActions').clearAllResultsAndModules(this.props.browse_session_id)};j.prototype.render=function(){var k=this.state.modules,l=k.find(function(n){return n.role===this.props.module_role&&n.is_bootstrap_entity_module===this.props.is_bootstrap_entity_module&&n.id===this.props.id}.bind(this));if(l!=null&&l.component==null){l.component=this;c('SearchEntityModuleActions').addResultsToModule(this.props.browse_session_id,{id:this.props.id,role:this.props.module_role,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module},c('immutable').List(this.props.results));this.forceUpdate();return c('React').createElement('div',null)}if(l!=null&&l.component===this){var m=c('SearchEntityModuleContainerStore').getResults(this.props.browse_session_id,{id:this.props.id,role:this.props.module_role,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module});return c('React').createElement(c('SearchEntityModule.react'),{plain_text_query:this.props.plain_text_query,browse_query:this.props.browse_query,module_role:this.props.module_role,result_type:this.props.result_type,results:m,num_results_to_show:this.props.num_results_to_show,client_view_config:this.props.client_view_config,typeahead_session_id:this.props.typeahead_session_id,browse_session_id:this.props.browse_session_id,module_style:this.props.module_style,title:this.props.title,see_more_uri:this.props.see_more_uri,logging_unit_id:this.props.logging_unit_id,is_bootstrap_entity_module:this.props.is_bootstrap_entity_module,callsite:this.props.callsite,has_module_guidelines:this.props.has_module_guidelines,viewer_id:this.props.viewer_id})}return c('React').createElement('div',null)};function j(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(j,{withProps:true})}),null);
__d('SearchEntityModuleUtils',['SearchEntityModuleActions','SearchEntityModuleContainerStore','SearchEntityModuleDispatcher'],(function a(b,c,d,e,f,g){'use strict';f.exports={addModules:function h(i,j){var k;c('SearchEntityModuleDispatcher').explicitlyRegisterStores([c('SearchEntityModuleContainerStore')]);var l=c('SearchEntityModuleContainerStore').getModules(j),m=function s(t){var u=l.find(function(v){return v.role===t.role&&v.id===t.id&&v.is_bootstrap_entity_module===t.is_bootstrap_entity_module});if(u==null)c('SearchEntityModuleActions').addModule(j,t);};for(var n=i,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;m(r)}}}}),null);
__d('SearchBootstrapEntityModule',['cx','fbt','Arbiter','BanzaiODS','DOM','FacebarJSConstants','immutable','JSLogger','React','ReactRenderer','SearchEntityModuleContainer.react','SearchEntityModuleContainerStore','SearchEntityModuleDispatcher','SearchEntityModuleServerConstants','SearchEntityModuleUtils','URI','XUINotice.react','$','md5','randomInt','tidyEvent'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=false,k='pagelet_loader_browse:independent:modules:pagelet',l='pagelet_loader_initial_browse_result',m='www_bem_res',n=c('immutable').Map(),o={backend_faster_no_matches:'BEM not shown because backend returned faster but had no matches anyway',backend_faster_with_matches:'BEM had matches but backend was faster',no_matches:'BEM not shown as no matches were found',no_entity_type:'BEM not shown as no user/page/place/group/event found',no_title_found:'BEM not shown as no title for module found',shown:'BEM shown'},p=void 0,q=[];function r(u){return u+':'+c('md5')(String(c('randomInt')(0,Number.MAX_SAFE_INTEGER)))}function s(u,v){var w=n.get(u);if(w==null){w=c('immutable').Map();n.set(u,w)}var x=w.get(v.tuid);if(x==null){x=r(m);w.set(v.tuid,x)}return x}var t={init:function u(v){c('tidyEvent')(c('Arbiter').subscribe('pagelet_event',function(event,x){if(event==='display'&&(x.id===k||x.id===l))j=true;}),c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(event,x){x.searchBootstrapEntityModule={notice:o[p],matches:JSON.stringify(q)}}));var w=v.squashed_ent_ids?v.squashed_ent_ids:[];c('Arbiter').inform('FacebarDataSource.getBootstrapMatches',{query:v.plain_text_query,callback:function x(y){t.onBootstrapResponse(v,y)},whitelistedEntIds:w},c('Arbiter').BEHAVIOR_PERSISTENT)},onBootstrapResponse:function u(v,w){if(j||w.length===0){if(j){t.printDebugNotice(v,w.length===0?'backend_faster_no_matches':'backend_faster_with_matches',w)}else t.printDebugNotice(v,'no_matches');return}w=w.sort(function(ca,da){return ca.bootstrapCost-da.bootstrapCost});var x=void 0;w=w.reduce(function(ca,da){da=babelHelpers['extends']({},da);if(da.type==='app')da.type='application';if(da.render_type==='place')da.type='place';if(x==null&&da.type!==c('FacebarJSConstants').keywordType)x=da.type;if(da.type===x&&ca.length<v.num_bootstrap_entity_results_to_show){if(da.subtext!=null){da.snippets=da.subtext.split(/\s*\u00B7s*/g).map(function(fa){return c('DOM').create('span',{},fa)});var ea=da.snippets.pop();da.snippets=da.snippets.slice(0,v.num_snippets-1);if(ea!=null)da.snippets.push(ea);}else da.snippets=[];da.is_bootstrap=true;if(x!=null)da.module_role=c('SearchEntityModuleServerConstants').RESULT_TYPE_TO_MODULE_ROLE[x];da.logging_unit_id=s(v.browse_session_id,da);da.uri=new (c('URI'))(da.path).addQueryData('ref',c('SearchEntityModuleServerConstants').BROWSE_RESULTS_PAGE_REF);ca.push(da)}return ca},[]);if(x==null){t.printDebugNotice(v,'no_entity_type',w);return}var y=null;switch(x){case 'user':y=i._("People");break;case 'page':y=i._("Pages");break;case 'group':y=i._("Groups");break;case 'application':y=i._("Apps");break;case 'place':y=i._("Places");break;case 'event':y=i._("Events");break;}if(y==null){t.printDebugNotice(v,'no_title_found',w);return}var z=new (c('URI'))(c('SearchEntityModuleServerConstants').TYPE_TO_SERP_PATH[x]).setQueryData({q:v.plain_text_query,ref:v.see_more_ref});c('SearchEntityModuleDispatcher').explicitlyRegisterStores([c('SearchEntityModuleContainerStore')]);var aa=c('SearchEntityModuleContainerStore').getModules(v.browse_session_id);if(aa.size>0){t.printDebugNotice(v,'backend_faster_with_matches',w);return}var ba=c('SearchEntityModuleServerConstants').RESULT_TYPE_TO_MODULE_ROLE[x];c('SearchEntityModuleUtils').addModules([{id:-1,role:ba,is_bootstrap_entity_module:true}],v.browse_session_id);t.printDebugNotice(v,'shown',w);c('ReactRenderer').constructAndRenderComponent(c('SearchEntityModuleContainer.react'),{plain_text_query:v.plain_text_query,browse_query:v.browse_query,results:w,result_type:x,module_role:ba,is_bootstrap_entity_module:true,num_results_to_show:v.num_results_to_show,client_view_config:v.client_view_config,browse_session_id:v.browse_session_id,typeahead_session_id:v.typeahead_session_id,module_style:v.module_style,title:y,see_more_uri:z,logging_unit_id:v.logging_unit_id,callsite:v.callsite,has_module_guidelines:v.has_module_guidelines,viewer_id:v.viewer_id,id:-1},v.root)},printDebugNotice:function u(v,w,x){p=w;q=x;c('BanzaiODS').bumpEntityKey('search.www.bem',w);if(!v.debug)return;var y=c('DOM').create('div');c('ReactRenderer').renderComponent(c('React').createElement(c('XUINotice.react'),{className:"_3-96"},'FB Only: ',o[w],'.'),y);c('DOM').prependContent(c('$')('browse_result_area'),y)}};f.exports=t}),null);
__d('SearchCommentHighlighter',['csx','Arbiter','CSS','NodeHighlighter','Parent','UFIUIEvents'],(function a(b,c,d,e,f,g,h){var i='data-highlight-tokens',j=babelHelpers['extends']({},c('NodeHighlighter'),{_enableCommentHighlighting:function k(){if(this._subscription)return;this._subscription=c('Arbiter').subscribe(c('UFIUIEvents').Changed,function(l,m){var n=m.form;return this._highlightComments(n)}.bind(this));c('Arbiter').subscribeOnce('pre_page_transition',function(){return this._disableCommentHighlighting()}.bind(this))},_disableCommentHighlighting:function k(){this._subscription.unsubscribe();this._subscription=null},_highlightComments:function k(l){var m=this._getHighlightTokens(l);if(m)c('NodeHighlighter').highlight.call(this,l,m);},_getHighlightTokens:function k(l){var m=c('Parent').byAttribute(l,i);return m?JSON.parse(m.getAttribute(i)):null},isDiscardNode:function k(l){return c('CSS').hasClass(l,'highlightNode')},getHighlightCandidates:function k(){return [".UFICommentContent"]},highlight:function k(l,m){if(!l.setAttribute)return;l.setAttribute(i,JSON.stringify(m));this._enableCommentHighlighting()}});f.exports=j}),null);
__d('FbFeedHighlighter',['csx','cx','CSS','NodeHighlighter','SearchCommentHighlighter'],(function a(b,c,d,e,f,g,h,i){var j="_58cn",k=babelHelpers['extends']({},c('NodeHighlighter'),{getHighlightCandidates:function l(){return ["._5pbw","._5pbx","._6m6","._6m7","._59tj","._5b-_","._5b_0","._4_j6",".commentBody","._6lc","._6s_"]},isStopNode:function l(m){return c('CSS').hasClass(m,j)},isDiscardNode:function l(m){return c('CSS').hasClass(m,'text_exposed_link')},highlight:function l(m,n){c('NodeHighlighter').highlight.call(this,m,n);c('SearchCommentHighlighter').highlight(m,n)}});f.exports=k}),null);
__d('XUIPageNavigationShim',['DOMContainer.react','React','isNode'],(function a(b,c,d,e,f,g){var h,i,j=function(){var m=0;return function(){return 'XUIPageNavigationShim-'+m++}}();function k(m){var n;if(m.children){n=m.children.map(function(p){if(typeof p==='object'&&typeof p.ctor==='function'){return k(p)}else if(c('isNode')(p)){return c('React').createElement(c('DOMContainer.react'),{key:j()},p)}else return p;});if(n.length===1)n=n[0];}var o=m.ctor;return c('React').createElement(o,babelHelpers['extends']({key:j()},m.props),n)}h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;l.prototype.render=function(){'use strict';return k(this.props)};function l(){'use strict';h.apply(this,arguments)}f.exports=l}),null);